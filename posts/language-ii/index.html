<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
  Language II: Word length distributions, Markov processes, and Text generation · home
</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Stanley Sayianka">
<meta name="description" content="Understanding english words, using the statistical distributions">
<meta name="keywords" content="blog,data-scientist,machine-learning">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Language II: Word length distributions, Markov processes, and Text generation"/>
<meta name="twitter:description" content="Understanding english words, using the statistical distributions"/>

<meta property="og:title" content="Language II: Word length distributions, Markov processes, and Text generation" />
<meta property="og:description" content="Understanding english words, using the statistical distributions" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stanleyrazor.github.io/portfolio-blog/posts/language-ii/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-09T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-03-09T00:00:00+00:00" />




<link rel="canonical" href="https://stanleyrazor.github.io/portfolio-blog/posts/language-ii/">


<link rel="preload" href="https://stanleyrazor.github.io/portfolio-blog/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="https://stanleyrazor.github.io/portfolio-blog/css/coder.min.aa22db702d45e4870630b3efb6f738c2371486cb6362b69b14a49d9d0eed57fd.css" integrity="sha256-qiLbcC1F5IcGMLPvtvc4wjcUhstjYrabFKSdnQ7tV/0=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="https://stanleyrazor.github.io/portfolio-blog/css/coder-dark.min.78b5fe3864945faf5207fb8fe3ab2320d49c3365def0e88ac1df0ddadc54a03c.css" integrity="sha256-eLX&#43;OGSUX69SB/uP46sjINScM2Xe8OiKwd8N2txUoDw=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/png" href="https://stanleyrazor.github.io/portfolio-blog/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://stanleyrazor.github.io/portfolio-blog/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="https://stanleyrazor.github.io/portfolio-blog/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://stanleyrazor.github.io/portfolio-blog/images/apple-touch-icon.png">

<link rel="manifest" href="https://stanleyrazor.github.io/portfolio-blog/site.webmanifest">
<link rel="mask-icon" href="https://stanleyrazor.github.io/portfolio-blog/images/safari-pinned-tab.svg" color="#5bbad5">




<meta name="generator" content="Hugo 0.110.0">





  </head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://stanleyrazor.github.io/portfolio-blog/">
      home
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://stanleyrazor.github.io/portfolio-blog/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://stanleyrazor.github.io/portfolio-blog/posts/">My Notes</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://stanleyrazor.github.io/portfolio-blog/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://stanleyrazor.github.io/portfolio-blog/contact/">Contact me</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://stanleyrazor.github.io/portfolio-blog/posts/language-ii/">
              Language II: Word length distributions, Markov processes, and Text generation
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2023-03-09T00:00:00Z">
                March 9, 2023
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="https://stanleyrazor.github.io/portfolio-blog/tags/text-processing/">Text Processing</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="https://stanleyrazor.github.io/portfolio-blog/tags/language-modelling/">Language Modelling</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="https://stanleyrazor.github.io/portfolio-blog/tags/nlp/">NLP</a>
    </span></div>

        </div>
      </header>

      <div>
        
        <p>Hello, this is the second post in the #Language series. The first post was about understanding probabilities such as joints, marginals and conditional probabilities using english letters. We were able to answer questions such as:</p>
<ul>
<li>What is the most common occuring english letter in all english words ?</li>
<li>What is the most likely next letter given that the current letter i&rsquo;m observing is say &rsquo;e&rsquo; ?</li>
<li>What was the most likely previous letter given that the current letter i&rsquo;m observing is say &lsquo;j&rsquo; ?</li>
<li>What is the probability of occurence of a letter pair such as say &rsquo;th&rsquo; in any english word ?</li>
<li>What is the probability that an english word starts with the letter say &lsquo;k&rsquo; ?</li>
<li>What is the probability that an english word ends with a letter say &lsquo;w&rsquo; ?</li>
</ul>
<hr>
<p>In this post, we analyze the characteristics of english words in terms of their word length distribution, and at the end, we combine the results of the previous post (Language I),to build an english text generator using a markov chain model.</p>
<h3 id="word-length-distribution">
  Word Length distribution
  <a class="heading-link" href="#word-length-distribution">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The word length is defined as the number of characters making up an english word. Since english words will have different word lengths, we are interested in <em>&ldquo;summarizing&rdquo;</em> this information using a statistical distribution.The graph for the distribution of word lengths for various english words is shown below:</p>
<p><img src="https://stanleyrazor.github.io/portfolio-blog/images/language/word-length.png" alt="Word Length Distribution" title="Word Length Distribution"></p>
<p>The word length distribution is positively skewed (skewness: 0.34) having a mean of 8, implying most english words have on average a length of 8 characters. The shortest english word was a one character word, such as: <em>i, a</em>, and the longest english was 22 characters long, being: <em>chromophotolithograph</em><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p>The quantiles (1st, 2nd, 3rd) inform that:</p>
<ul>
<li>25% of english words have a maximum possible length of 6 characters.</li>
<li>50% of english words have a maximum possible length of 8 characters.</li>
<li>75% of english words have a maximum possible length of 10 characters.</li>
</ul>
<p>For modeling the word length, we only restrict ourselves to discrete statistical distributions since word length is a discrete variable.</p>
<p>If $X$ is the discrete variable representing the word length, then a possible model for word length is the <strong>poisson</strong> distribution.</p>
<h4 id="the-poisson-distribution">
  The Poisson distribution:
  <a class="heading-link" href="#the-poisson-distribution">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>The Poisson distribution is a discrete distribution commonly used to model counts of events that occur at a certain rate, such as the number of customers who enter a store in an hour or the number of phone calls received by a call center in a day. In the case of word lengths in a novel, you can think of each word as an event that occurs independently, with a certain probability of occurring at each position in the text.</p>
<p>The probability mass function (PMF) of the Poisson distribution is given by:</p>
<p>$$P(X = k) = \frac{e^{-\lambda}\lambda^k}{k!}, \hspace{2 mm} k = 0, 1, 3, &hellip;$$</p>
<p>where $X$ is the random variable representing the number of events, $\lambda$ is the average rate at which the events occur, and k is the number of events that occur in the interval.</p>
<p>For word length modeling however, we will have to use a modification to the poisson distribution to account for the fact that, word length cannot be 0, hence we need a modified poisson distribution for positive integers (starting at 1). Such a distribution exists and is called the <em>Zero-truncated Poisson distribution</em> (ZTP).</p>
<blockquote>
<p><em>&ldquo;It is the conditional probability distribution of a Poisson-distributed random variable, given that the value of the random variable is not zero. Thus it is impossible for a ZTP random variable to be zero.&rdquo;</em></p>
<ul>
<li><strong>Source: Wikipedia</strong></li>
</ul>
</blockquote>
<p>The mean and variance of the ZTP distribution are:</p>
<p>$$\mu = \frac{\lambda  e^{\lambda }}{e^{\lambda} - 1}$$
$$\sigma^2 = \mu(1 + \lambda - \mu) $$</p>
<p>where $\mu$ is the mean and $\sigma^2$ is the variance.</p>
<hr>
<p>A markov process is simply a process, where-by the most optimal prediction for the future state, depends only on the process&rsquo;s current state. Put simply, if a process is <em>markov</em>, then the best prediction for the process at time $i+1$ only depends on the value of the process at time $i$, without reference to past history.
Formally:
$$P(X_{t+1} = x_{t+1} | X_t = x_t, &hellip;, X_1 = x_1, X_0 = x_0) = P(X_{t+1} = x_{t+1} | X_t = x_t)$$
We use this model for text generation as follows:</p>
<ol>
<li>We first start by generating a random number $(n)$ from the fitted Word length distribution. This generated number will be the word length input into the markov text generator.</li>
<li>We initialize the word (find the starting letter), by sampling from the <em>&lsquo;word-starters&rsquo;</em> probability distribution. In sampling, we use the <em>&lsquo;word-starters&rsquo;</em> probabilities as the sampling weights.</li>
<li>Since we have the first letter, we now initiate the markov process text generator, which performs the following:
<ul>
<li><strong>Step 1:</strong> Using the previously generated letter only, we sample randomly letters &lsquo;a&rsquo; to &lsquo;z&rsquo;, where the sampling weights are the Conditional probabilities: $P(Next | Current = *)$.</li>
<li><strong>Step 2:</strong> We repeat step 1 above, until the number of characters generated equals the word length $(n)$</li>
</ul>
</li>
<li>We return the generated word</li>
</ol>
<hr>
<p>Generated results are shown below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[1] &#34;dorypef&#34;                 
</span></span><span style="display:flex;"><span>[1] &#34;batedoralyrophe&#34;
</span></span><span style="display:flex;"><span>[1] &#34;tamineriextaro&#34;
</span></span><span style="display:flex;"><span>[1] &#34;ileditritll&#34;
</span></span><span style="display:flex;"><span>[1] &#34;uberonasidfig&#34;
</span></span><span style="display:flex;"><span>[1] &#34;brissu&#34;
</span></span><span style="display:flex;"><span>[1] &#34;tuncierbotind&#34;
</span></span><span style="display:flex;"><span>[1] &#34;pridemen&#34;
</span></span><span style="display:flex;"><span>[1] &#34;lobrnesncys&#34;
</span></span><span style="display:flex;"><span>[1] &#34;ipedngonteese&#34;
</span></span><span style="display:flex;"><span>[1] &#34;felollynppisala&#34;
</span></span><span style="display:flex;"><span>[1] &#34;charsukecot&#34;
</span></span><span style="display:flex;"><span>[1] &#34;scopigickmil&#34;
</span></span><span style="display:flex;"><span>[1] &#34;titenanh&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[1] &#34;squneracoe&#34;
</span></span><span style="display:flex;"><span>[1] &#34;vacanchuf&#34;
</span></span><span style="display:flex;"><span>[1] &#34;eytrincusetin&#34;
</span></span><span style="display:flex;"><span>[1] &#34;khatilerad&#34;
</span></span><span style="display:flex;"><span>[1] &#34;rageerphyllylo&#34;
</span></span><span style="display:flex;"><span>[1] &#34;rymindou&#34;
</span></span><span style="display:flex;"><span>[1] &#34;mantrsul&#34;
</span></span><span style="display:flex;"><span>[1] &#34;praleslirido&#34;
</span></span><span style="display:flex;"><span>[1] &#34;calki&#34;
</span></span><span style="display:flex;"><span>[1] &#34;rrodessstoum&#34;
</span></span><span style="display:flex;"><span>[1] &#34;rbislen&#34;
</span></span><span style="display:flex;"><span>[1] &#34;glluapr&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[1] &#34;delationespete&#34;
</span></span><span style="display:flex;"><span>[1] &#34;indeecalirrext&#34;
</span></span><span style="display:flex;"><span>[1] &#34;ppakineepomoi&#34;
</span></span><span style="display:flex;"><span>[1] &#34;screinec&#34;
</span></span><span style="display:flex;"><span>[1] &#34;ronesiondan&#34;
</span></span><span style="display:flex;"><span>[1] &#34;dirmentuthysic&#34;
</span></span><span style="display:flex;"><span>[1] &#34;taronnnate&#34;
</span></span><span style="display:flex;"><span>[1] &#34;glliered&#34;
</span></span><span style="display:flex;"><span>[1] &#34;praberendie&#34;
</span></span><span style="display:flex;"><span>[1] &#34;ancatelat&#34;
</span></span><span style="display:flex;"><span>[1] &#34;caspelyelll&#34;
</span></span><span style="display:flex;"><span>[1] &#34;zontchoma&#34;
</span></span></code></pre></div><p>Not bad, eh ?</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>what about the 27 character &lsquo;antidisturblishmentarialism&rsquo; ?&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"
    integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"
    integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js"
    integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
	<a href="https://gohugo.io/">Hugo</a> | <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="https://stanleyrazor.github.io/portfolio-blog/js/coder.min.236049395dc3682fb2719640872958e12f1f24067bb09c327b233e6290c7edac.js" integrity="sha256-I2BJOV3DaC&#43;ycZZAhylY4S8fJAZ7sJwyeyM&#43;YpDH7aw="></script>
  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X19HFPFY1H"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-X19HFPFY1H', { 'anonymize_ip': false });
}
</script>


  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X19HFPFY1H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-X19HFPFY1H');
</script>


  
</body>

</html>
